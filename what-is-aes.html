<!DOCTYPE HTML>
<!--
	Halcyonic by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<link rel='shortcut icon' type='image/x-icon' href='images/favicon.ico'/>
	<head>
		<title>What is AES - AES in Verilog</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body class="subpage">
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header-wrapper">
					<header id="header" class="container">
						<div class="row">
							<div class="12u">

								<!-- Logo -->
									<h1><a href="index.html" id="logo">AES in Verilog</a></h1>

								<!-- Nav -->
									<nav id="nav">
										<a href="index.html">Home</a>
										<a href="what-is-aes.html">What is AES?</a>
										<a href="instructions.html">Instructions</a>
										<a href="schematics.html">Schematics</a>
										<a href="reflection.html">Reflection</a>
										<a href="meet-the-team.html">Meet the Team</a>
									</nav>

							</div>
						</div>
					</header>
				</div>

			<!-- Content -->
				<div id="content-wrapper">
					<div id="content">
						<div class="container">
							<div class="row">
								<div class="12u">

									<!-- Main Content -->
										<section>
											<header>
												<h2>What is AES?</h2>
												<h3>An overview of Advanced Encryption Standard</h3>
											</header>
											<p>

												Please, tell me more about this magic that you call cryptography! </br>

												AES stands for Advanced Encryption Standard.  Each block of this cipher takes in a 128bit message and a 128bit key.  This cipher is used by the US Government to protect classified enformation, and is used to encrypt sensitive data all around the world! The algorithm was developed by two cryptographers: Joan Daemen and Vincent Rijmen from Belgium, as a replacement for DES, Data Encryption Standard, which was the widely used standard for encryption before AES was developed. 
												So let's go over how AES works!!

												We will use an example of our secret message and secret key shown below.  Both converted to ASCII hexcode. </br>

													<img src="images/gridwords.jpg" width=100px height=100px alt="Picture of secret message"/>
													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/> 
													<img src="images/gridascii.jpg" width=100px height=100px alt="Picture of secret message"/></br>
													<img src="images/gridkey.jpg" width=100px height=100px alt="Picture of secret key"/> 
													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>
													<img src="images/gridkey_ascii.jpg" width=100px height=100px caption="key ascii" alt="Picture of secret key"/></br>

													<hr>

												<h3>Key Expansion</h3>

												First, the key needs to be expanded to create the keys to be used in later rounds of the encryption.  This is done in the process of key expand.  At the highest level, key expand takes in one key, and outputs 10 new keys.

												The first step of the key expand is to shift the bytes of the last column. The top byte goes to the bottom, and the rest shift up. 
													
													<img src="images/gridkey_ascii.jpg" width=100px height=100px caption="key ascii" alt="Picture of secret key"/>
													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>
													<img src="images/keyexpandshift.png" width=100px height=100px caption="key ascii" alt="Picture of shifted key"/></br>
												Next, this key is passed through the s-box, which we will cover in more detail later!
												Basically, the s-box maps each byte of the key to a new byte. This can actually be done with some matrix math, but conceptually can be simplified to a big look up table. </br>
												Here is the value of our key after passing it through the s-box: </br>

													<img src="images/asciikeysbox.jpg" width=100px height=100px caption="key ascii" alt="Picture of sboxed key"/> </br>

												The next step is to XOR the last column of this matrix with the Round Constant. This is different constant for each of the 10 rounds, but is [01 00 00 00]^T for round1. 

													<img src="images/rconxor.png" width=150px height=100px caption="key ascii" alt="Picture of rcon xor"/> </br>
													Then XOR this resulting column, with each column of the output key from the sbox, to get our new key for Round 1. </br>

													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>
													<img src="images/r1key.png" width=100px height=100px caption="key ascii" alt="Picture of secret key"/>  = Round 1 Key</br>

													Repeat these steps using the Round 1 key as an input to get the subsequent keys for rounds 2-10!

													<hr>
													<h3>Initial Round</h3>
													Once the keys are all set, we can get started with the other encryption steps. </br>
													First is the initial round.
													The initial round is actually quite simple! All you need to do is xor each bit of the message with each bit of the initial key.
													<img src="images/r0xor.jpg" width=250px height=100px caption="key ascii" alt="Picture of r0 xor"/>
													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>
													<img src="images/gridround0out.jpg" width=100px height=100px caption="key ascii" alt="Picture of round 0 output"/> = Round 0 Output 
													<hr>

													<h3>Other Rounds</h3>

													Rounds 1-10 of the cipher are a bit more complicated.

													Each round contains 4 major steps.

													<ul>
														<li>Substitute bytes</li>
														<li>Shift Rows</li>
														<li>Mix Coluns</li>
														<li>Add Round Key</li>
													</ul>
													<h4>Substitute Bytes</h4>

													This is the same s-box byte-mapping as we used earlier in the key-expand! It applies two math functions to the matrix. First it takes the inverse, and second it multiplies by a constant matrix using Gallois Field matrix multipliation , and then adds a 8bit constant column.  This can be simplified to a look up table to perfom the s-box transformation.  The s-box result for our example is shown below. </br>

													<img src="images/gridround0out.jpg" width=100px height=100px caption="key ascii" alt="Picture of round 0 out"/>
													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>
													<img src="images/r1sboxed.png" width=100px height=100px caption="key ascii" alt="Picture of round 1 sbox out"/>

													</br> 

													<h4> Shift Rows </h4>

													In this step, you shift the rows to the left and wrap them around to the other side. How many bytes of the row shifts increases as the rows descend from top to bottom. Our example shows how this occurs. </br>

													<img src="images/r1sboxed.png" width=100px height=100px caption="key ascii" alt="Picture of round 1 sbox out"/>
													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>

													<img src="images/r1shiftedrows.png" width=100px height=100px caption="key ascii" alt="Picture of round 1 shifted rows"/>

													</br>
													<h4>Mix Columns </h4>

													Similarly to the S-Box transfomation, Mix Columns treats each column as a poolynomial, and is essentially a matrix multiplication.	This re-orders the bits of each columnn in a very specific way. </br>												
													<img src="images/r1shiftedrows.png" width=100px height=100px caption="key ascii" alt="Picture of round 1 shifted rows"/>
													<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>
													<img src="images/r1mixedcols.png" width=100px height=100px caption="key ascii" alt="Picture of round 1 mixed columns"/>
												</br>
											</br>
											<h4>Add Round Key</h4>

											This step is just like the operation we did in the initial round! Remember the Round1 key we found in key expansion earlier?
											We XOR that key with the result of mix columns to get the output of Round 1! </br>

											<img src="images/r1xor.png" width=250px height=100px caption="key ascii" alt="Picture of r1 xor"/>
											<img src="images/arrow.gif" width=110px height=100px caption="key ascii" alt="Picture of arrow"/>
											<img src="images/r1out.png" width=100px height=100px caption="key ascii" alt="Picture of round 1 output"/> = Round 1 Out 
											<hr>
										</br>
											<h2>Repeat!</h2>
											<h3>Now repeat all these steps for rounds 2-9!

											Round 10 is nearly identical except you skip the mix-columns step.


											After all this your final cipher should be the string shown below. </h3></br>


											<img src="images/cipherout.jpg" width=200px height=200px caption="key ascii" alt="Picture of cipher output"/>
											<h2>D	#	B	Æ	R	.	Q	Ö	W	a	J	£	N	.	(	v </h2>
										</br>
										<hr>
									</br>

										<h2>Decryption!</h2>

										<p>Now you know how AES Encryption works!!

										To decrypt your message from the resulting cipher text, use the same key-expand, and simply perform each step in reverse!

										Good luck, and happy encrypting! :) </p>











											</p>
											<p> 
											</p>
										</section>

								</div>
							</div>
						</div>
					</div>
				</div>

			<!-- Footer -->
				<div id="footer-wrapper">
					<footer id="footer" class="container">
						<div class="row">
							<div class="8u 12u(mobile)">

								<!-- Links -->
									<section>
										<h2>Resources</h2>
										<div>
											<div class="row">
												<div class="6u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf">Federal Information Processing Standards Publication Announcing AES</a></li>
														<li><a href="http://www.moserware.com/2009/09/stick-figure-guide-to-advanced.html">A Stick Figure Guide to AES</a></li>
														<li><a href="http://aes.online-domain-tools.com/">AES Encryption Generator</a></li>
														<li><a href="https://www.ecs.csus.edu/csc/iac/docs/students/bahram_hakhamaneshi_project%20report.pdf">A Hardware Implementation of AES Using SystemVerilog</a></li>
														<li><a href="http://searchsecurity.techtarget.com/definition/Advanced-Encryption-Standard">Tech Target: Search Security: AES definition</a></li>
														<li><a href="http://www.asciitable.com/">ASCII Table</a></li>

														
													</ul>
												</div>
												<div class="6u 12u(mobile)">
													<ul class="link-list last-child">
														<li><a href="https://docs.python.org/2/library/binascii.html">Python binascii Documentation</a></li>
														<li><a href="https://pypi.python.org/pypi/pycrypto">Python Cryptography Toolkit (pycrypto) Documentation</a></li>
														<li><a href="http://blog.dispatched.ch/2009/12/09/pythons-binascii-hexlify-unhexlify/">Python’s binascii – hexlify() and unhexlify()</a></li>
														<li><a href="http://stackoverflow.com/questions/13392365/define-a-2d-array-in-verilog-a-4x4-matrix-that-storage-specific-values">Stack Overflow: Define a 2D array in Verilog, a 4x4 matrix</a></li>
														<li><a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard">Wikipedia: AES</a></li>
														<li><a href="https://en.wikipedia.org/wiki/Rijndael_mix_columns">Wikipedia: Rijndael mix columns</a></li>
														<li><a href="https://en.wikipedia.org/wiki/S-box">Wikipedia: S-box</a></li>
													</ul>
												</div>
											</div>
										</div>
									</section>

							</div>
							<div class="4u 12u(mobile)">

								<!-- Blurb -->
									<section>
										<h2>An Overview of Our Project</h2>
										<p>
											For our final project in Computer Architecture, we implemented Advanced Encryption Standard (AES) in Verilog. To find out more about AES, please go through the resources on the left. We hope you enjoy reading about our project! Our source code can be found on <a href="https://github.com/megsaysrawr/CryptArch">here on GitHub</a>.
										</p>
									</section>

							</div>
						</div>
					</footer>
				</div>

			<!-- Copyright -->
				<div id="copyright">
					Design: <a href="http://html5up.net">HTML5 UP</a>
				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/skel-viewport.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>